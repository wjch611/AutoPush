# Git è‡ªåŠ¨æäº¤è„šæœ¬

è¿™æ˜¯ä¸€ä¸ªç”¨äºè‡ªåŠ¨åŒ– Git æäº¤å’Œæ¨é€çš„ Python è„šæœ¬ï¼Œç‰¹åˆ«é€‚åˆç”¨äºç¬”è®°ã€æ–‡æ¡£æˆ–ä»£ç ä»“åº“çš„å®šæœŸå¤‡ä»½ã€‚

## âš ï¸ é‡è¦å®‰å…¨å‰æ

**ç§é’¥å¿…é¡»ä¸è®¾ç½®å¯†ç **ï¼š
1. è„šæœ¬è¦æ±‚ SSH ç§é’¥**ä¸èƒ½è®¾ç½®å¯†ç **
2. å¦‚æœæ‚¨çš„ç§é’¥å·²æœ‰å¯†ç ï¼Œè¯·ç§»é™¤å¯†ç ï¼š
   ```bash
   ssh-keygen -p -f ~/.ssh/id_ed25519
   ```
   ï¼ˆæç¤ºæ—¶ç›´æ¥æŒ‰å›è½¦ä¸¤æ¬¡ï¼‰
3. ä¸ºä»€ä¹ˆéœ€è¦è¿™æ ·ï¼Ÿ
   - è„šæœ¬æ— æ³•å¤„ç†äº¤äº’å¼å¯†ç è¾“å…¥
   - è¿™æ˜¯è‡ªåŠ¨åŒ–æ“ä½œçš„å®‰å…¨æƒè¡¡

## åŠŸèƒ½ç‰¹æ€§

- ğŸ“¦ **è‡ªåŠ¨æ£€æµ‹å˜æ›´**ï¼šä»…å½“æœ‰æ–‡ä»¶ä¿®æ”¹æ—¶æ‰æ‰§è¡Œæäº¤
- âš¡ **ä¸€é”®æ“ä½œ**ï¼šè‡ªåŠ¨å®Œæˆæ·»åŠ ã€æäº¤ã€æ¨é€å…¨æµç¨‹
- ğŸ”„ **è¿œç¨‹åè®®è½¬æ¢**ï¼šè‡ªåŠ¨å°† HTTPS è¿œç¨‹è½¬æ¢ä¸º SSH
- ğŸ“… **æ™ºèƒ½æäº¤ä¿¡æ¯**ï¼šåŒ…å«æ—¶é—´æˆ³çš„è‡ªåŠ¨æäº¤æ¶ˆæ¯
- ğŸ›¡ï¸ **é”™è¯¯å¤„ç†**ï¼šè¯¦å°½çš„é”™è¯¯æ£€æµ‹å’Œç”¨æˆ·å‹å¥½æç¤º
- ğŸ–¥ï¸ **è·¨å¹³å°æ”¯æŒ**ï¼šæ”¯æŒ Windowsã€Linux å’Œ macOS

## ä½¿ç”¨å‰æ

1. **Python ç¯å¢ƒ**ï¼š
   - Python 3.6 æˆ–æ›´é«˜ç‰ˆæœ¬
   - å®‰è£…è·¯å¾„å·²æ·»åŠ åˆ°ç³»ç»Ÿ PATH

2. **Git å®‰è£…**ï¼š
   - Git å·²å®‰è£…å¹¶é…ç½®
   - Git å¯æ‰§è¡Œæ–‡ä»¶åœ¨ç³»ç»Ÿ PATH ä¸­

3. **SSH å¯†é’¥é…ç½®**ï¼š
   - å·²ç”Ÿæˆ SSH å¯†é’¥å¯¹ï¼ˆ**ç§é’¥ä¸è®¾å¯†ç **ï¼‰
   - å…¬é’¥å·²æ·»åŠ åˆ° GitHub è´¦æˆ·
   - æµ‹è¯•å‘½ä»¤ï¼š`ssh -T git@github.com` åº”è¿”å›æˆåŠŸä¿¡æ¯

## è„šæœ¬æ‰§è¡Œæµç¨‹

```mermaid
graph TD
    A[å¼€å§‹] --> B[è§£æå‘½ä»¤è¡Œå‚æ•°]
    B --> C[éªŒè¯ç›®å½•å­˜åœ¨]
    C --> D[æ£€æŸ¥æ˜¯å¦ä¸ºGitä»“åº“]
    D --> E[ç¡®ä¿ä½¿ç”¨SSHè¿œç¨‹]
    E --> F[æ£€æµ‹æ–‡ä»¶å˜æ›´]
    F -->|æ— å˜æ›´| G[è·³è¿‡æäº¤]
    F -->|æœ‰å˜æ›´| H[æ·»åŠ æ‰€æœ‰æ–‡ä»¶]
    H --> I[åˆ›å»ºæäº¤]
    I --> J[æ¨é€åˆ°è¿œç¨‹]
    J -->|æˆåŠŸ| K[æ˜¾ç¤ºæäº¤å“ˆå¸Œ]
    J -->|å¤±è´¥| L[æ˜¾ç¤ºé”™è¯¯å¸®åŠ©]
    K --> M[ç»“æŸ]
    L --> M
    G --> M
```

## å®‰è£…ä¸ä½¿ç”¨

### 1. ä¸‹è½½è„šæœ¬

```bash
curl -O https://raw.githubusercontent.com/yourusername/git-auto-commit/main/git_auto_commit.py
```

### 2. åŸºæœ¬ç”¨æ³•

```bash
# ä½¿ç”¨é»˜è®¤ç›®å½•ï¼ˆ~/notesï¼‰å’Œåˆ†æ”¯ï¼ˆmainï¼‰
python git_auto_commit.py

# æŒ‡å®šç›®å½•å’Œåˆ†æ”¯
python git_auto_commit.py -d "E:/my_notes" -b "master"
```

### 3. å‘½ä»¤è¡Œå‚æ•°

| å‚æ•°       | ç¼©å†™ | é»˜è®¤å€¼    | æè¿°         |
| ---------- | ---- | --------- | ------------ |
| `--dir`    | `-d` | `~/notes` | Git ä»“åº“è·¯å¾„ |
| `--branch` | `-b` | `main`    | ç›®æ ‡åˆ†æ”¯å   |

### 4. åˆ›å»ºå¿«æ·æ–¹å¼

**Windows**ï¼š
1. åˆ›å»ºæ‰¹å¤„ç†æ–‡ä»¶ `note_backup.bat`ï¼š
```batch
@echo off
python "C:\path\to\git_auto_commit.py" -d "E:\my_notes"
pause
```
2. åŒå‡»è¿è¡Œ

**Linux/macOS**ï¼š
1. æ·»åŠ åˆ° shell é…ç½®æ–‡ä»¶ï¼ˆ`.bashrc` æˆ– `.zshrc`ï¼‰ï¼š
```bash
alias note-sync="python ~/scripts/git_auto_commit.py -d ~/notes"
```
2. è¿è¡Œï¼š`note-sync`

## å®‰å…¨æ³¨æ„äº‹é¡¹

### 1. ç§é’¥å®‰å…¨

- ğŸ” **æ— å¯†ç ç§é’¥é£é™©**ï¼š
  - è®¾å¤‡è¢«ç›—æ—¶æ”»å‡»è€…å¯ç«‹å³è®¿é—®æ‚¨çš„ä»“åº“
  - æ¶æ„è½¯ä»¶å¯ç›´æ¥çªƒå–å¹¶ä½¿ç”¨æ‚¨çš„å¯†é’¥
  
- ğŸ›¡ï¸ **é˜²æŠ¤æªæ–½**ï¼š
  1. ä»…åœ¨ä¸ªäººè®¾å¤‡ä½¿ç”¨æ­¤è„šæœ¬
  2. è®¾ç½®å…¨ç›˜åŠ å¯†ï¼ˆBitLocker/FileVaultï¼‰
  3. å®šæœŸè½®æ¢å¯†é’¥ï¼š
     ```bash
     # æ¯å¹´åˆ›å»ºæ–°å¯†é’¥
     ssh-keygen -t ed25519 -f ~/.ssh/id_ed25519_new
     ```

### 2. æ–‡ä»¶æƒé™

ç¡®ä¿æ­£ç¡®æƒé™è®¾ç½®ï¼š
```bash
chmod 700 ~/.ssh
chmod 600 ~/.ssh/id_ed25519
```

### 3. ä»“åº“å®‰å…¨

- ğŸš« ä¸è¦åœ¨å…¬å…±ä»“åº“å­˜å‚¨æ•æ„Ÿä¿¡æ¯
- ğŸ”‘ ä½¿ç”¨ `.gitignore` æ’é™¤æ•æ„Ÿæ–‡ä»¶
- ğŸ”„ å®šæœŸå®¡æŸ¥æäº¤å†å²

## æ•…éšœæ’é™¤

### å¸¸è§é”™è¯¯åŠè§£å†³æ–¹æ¡ˆï¼š

| é”™è¯¯ä¿¡æ¯                        | è§£å†³æ–¹æ¡ˆ                                                     |
| ------------------------------- | ------------------------------------------------------------ |
| `é”™è¯¯ï¼šç›®å½•ä¸å­˜åœ¨`              | æ£€æŸ¥è·¯å¾„æ˜¯å¦æ­£ç¡®ï¼Œä½¿ç”¨ç»å¯¹è·¯å¾„                               |
| `é”™è¯¯ï¼šä¸æ˜¯Gitä»“åº“`             | ç¡®ä¿ç›®å½•åŒ…å« .git æ–‡ä»¶å¤¹                                     |
| `æ¨é€å¤±è´¥`                      | 1. è¿è¡Œ `ssh -T git@github.com` æµ‹è¯•è¿æ¥<br>2. ç¡®è®¤ç§é’¥æœªè®¾ç½®å¯†ç  |
| `æ— æ³•è·å–è¿œç¨‹URL`               | æ‰‹åŠ¨æ·»åŠ è¿œç¨‹ï¼š`git remote add origin git@github.com:user/repo.git` |
| `Permission denied (publickey)` | 1. ç¡®è®¤å…¬é’¥å·²æ·»åŠ åˆ° GitHub<br>2. æ£€æŸ¥æ–‡ä»¶æƒé™                |

### è¯Šæ–­æ­¥éª¤ï¼š

1. æ‰‹åŠ¨æµ‹è¯• SSH è¿æ¥ï¼š
   ```bash
   ssh -Tv git@github.com
   ```
2. æµ‹è¯• Git æ“ä½œï¼š
   ```bash
   git add .
   git commit -m "æµ‹è¯•"
   git push origin main
   ```

## é«˜çº§é…ç½®

### å®šæ—¶è‡ªåŠ¨å¤‡ä»½

**Windowsï¼ˆä»»åŠ¡è®¡åˆ’ç¨‹åºï¼‰**ï¼š
1. åˆ›å»ºåŸºæœ¬ä»»åŠ¡
2. è§¦å‘å™¨ï¼šæ¯å¤©ç‰¹å®šæ—¶é—´
3. æ“ä½œï¼šå¯åŠ¨ç¨‹åº `pythonw.exe C:\path\to\git_auto_commit.py`

**Linux/macOSï¼ˆcronï¼‰**ï¼š
```bash
# æ¯å¤©23:30è‡ªåŠ¨å¤‡ä»½
30 23 * * * python /path/to/git_auto_commit.py -d ~/notes
```

### å¸¦å¯†ç ç§é’¥çš„æ›¿ä»£æ–¹æ¡ˆï¼ˆä¸æ¨èï¼‰

å¦‚æœéœ€è¦ä½¿ç”¨å¸¦å¯†ç çš„ç§é’¥ï¼š
1. é…ç½® SSH ä»£ç†ï¼š
   ```bash
   eval "$(ssh-agent -s)"
   ssh-add ~/.ssh/id_ed25519  # è¾“å…¥å¯†ç 
   ```
2. åœ¨ä»£ç†ä¼šè¯æœŸé—´è¿è¡Œè„šæœ¬
3. æ³¨æ„ï¼šè¿™ä¼šé™ä½è‡ªåŠ¨åŒ–ç¨‹åº¦

## ç¤ºä¾‹è¾“å‡º

```
æ£€æµ‹åˆ°æ–‡ä»¶å˜æ›´ï¼Œæ­£åœ¨æäº¤ E:/notes åˆ°åˆ†æ”¯ main...
å·²å°†è¿œç¨‹URLæ›´æ”¹ä¸ºSSH: git@github.com:username/notes.git
âœ… æäº¤æˆåŠŸï¼æœ€æ–°ç‰ˆæœ¬: a1b2c3d
```

```
æ²¡æœ‰æ£€æµ‹åˆ°æ–‡ä»¶å˜æ›´ï¼Œè·³è¿‡æäº¤
```

```
æ¨é€å¤±è´¥ï¼Œè¯·æ£€æŸ¥ä»¥ä¸‹é…ç½®ï¼š
1. ç¡®ä¿å·²æ·»åŠ SSHå¯†é’¥åˆ°GitHub
2. ç¡®è®¤ç§é’¥æœªè®¾ç½®å¯†ç 
3. æµ‹è¯•SSHè¿æ¥: ssh -T git@github.com
4. æ‰‹åŠ¨æ¨é€ä¸€æ¬¡: git push origin main
```

## è´¡çŒ®ä¸åé¦ˆ

æ¬¢è¿æäº¤é—®é¢˜å’Œæ”¹è¿›å»ºè®®ï¼š
- [é—®é¢˜æŠ¥å‘Š](https://github.com/yourusername/git-auto-commit/issues)
- [æ‹‰å–è¯·æ±‚](https://github.com/yourusername/git-auto-commit/pulls)

## è®¸å¯è¯

MIT è®¸å¯è¯ - è‡ªç”±ä½¿ç”¨ã€ä¿®æ”¹å’Œåˆ†å‘

---

è¿™ä¸ªæ›´æ–°ç‰ˆæœ¬çš„ README ç‰¹åˆ«å¼ºè°ƒäº†ç§é’¥ä¸èƒ½è®¾ç½®å¯†ç çš„é‡è¦å‰æï¼Œå¹¶åœ¨å®‰å…¨æ³¨æ„äº‹é¡¹éƒ¨åˆ†è¯¦ç»†è§£é‡Šäº†ç›¸å…³é£é™©å’Œé˜²æŠ¤æªæ–½ã€‚åŒæ—¶ä¿ç•™äº†æ‰€æœ‰ä½¿ç”¨è¯´æ˜å’Œæ•…éšœæ’é™¤æŒ‡å—ï¼Œç¡®ä¿ç”¨æˆ·èƒ½å®‰å…¨æœ‰æ•ˆåœ°ä½¿ç”¨è„šæœ¬ã€‚